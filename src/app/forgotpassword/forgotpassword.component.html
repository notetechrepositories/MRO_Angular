<div class="container">
    <div class="container height-100 d-flex justify-content-center align-items-center">
        <div class="position-relative">
            <div class="card p-2 text-center" *ngIf="cardVisibile1">
                <h6>Please enter the one-time password <br> to verify your account</h6>
                <div> <span >A code has been sent to</span> <small>{{this.email}}</small> </div>
                <!-- <div class="countdown">Otp will be experied after {{countDown}}</div> -->
                <div id="otp" class="inputs d-flex flex-row justify-content-center mt-2">
                    <input class="m-2 text-center form-control rounded" type="text" id="first" maxlength="1" [(ngModel)]="otp1" [ngClass]="{'errorbox':iserror}" (keyup)="onOtpInput($event, nextInput)" #firstInput /> 
                    <input class="m-2 text-center form-control rounded" type="text" id="second" maxlength="1" [(ngModel)]="otp2" [ngClass]="{'errorbox':iserror}" (keyup)="onOtpInput($event, nextInput2)" #nextInput/> 
                    <input class="m-2 text-center form-control rounded" type="text" id="third" maxlength="1" [(ngModel)]="otp3" [ngClass]="{'errorbox':iserror}" (keyup)="onOtpInput($event, nextInput3)" #nextInput2/>
                     <input class="m-2 text-center form-control rounded" type="text" id="fourth" maxlength="1" [(ngModel)]="otp4" [ngClass]="{'errorbox':iserror}" (keyup)="onOtpInput($event)" #nextInput3/>
                    
                     <div class="countdown-timer">
                        <i class="fa fa-clock-o"  style="font-size:30px;color: #13487e;"></i>
                     
                        <!-- <img src='assets\timer.png' alt=""  style="width: 30px; height: 30px;">  -->
                        <div class="countdown">{{countDown}} s</div>
                        
                    </div>

                 

                </div>
                
                <label class="invalidotp validation-message " *ngIf="invaildotp"> Invalid OTP</label>
                <div class="mt-4">
                    <button class="btn btn-danger px-4 validate" (click)="validate()">VERIFY</button>
                  
                </div>
                
                

                <!-- <div class="mt-4">
                    <button class="back-btn" (click)="back()">Back</button>
                </div> -->
            </div>
            <div class="card1 " *ngIf="cardVisibile2">
                <div>
                    <h5>Reset Password</h5>
                    <br>
                    <div class="password-container">
                        <label for="new-password" class="password-label">New Password</label>
                        <div class="input-group">
                            <input
                              type="{{ hidePassword ? 'password' : 'text' }}"
                              class="m-2 form-control rounded password-input"
                              placeholder="Enter Your Password"
                              maxlength="4"
                              minlength="4"
                              [(ngModel)]="newPassword"
                              [formControl]="passwordFormControl"
                              (keyup)="checkValidity1($event)"
                              #pw
                              id="newPassword" [ngClass]="{'errorbox': iserror && isConfirmPasswordDirty}"
                            />
                            <div class="input-group-append">
                              <span class="input-group-text">
                                <i
                                  toggle="#newPassword"
                                  (click)="togglePasswordVisibility()"
                                  class="fa fa-eye cursor-pointer" style="font-weight: 600;"
                                  [ngClass]="{ 'fa-eye-slash': hidePassword }"
                                ></i>
                              </span>
                            </div>
                          </div>
                      
                        
                        <div class="parent-container" *ngIf="displayErrorMessage">
                            <div class="d-flex " >
                              <div *ngIf="passwordFormControl.invalid && (passwordFormControl.dirty || passwordFormControl.touched)">
                                <div class="error-message " *ngIf="passwordFormControl.hasError('required')" >
                                   Pin is required.
                                </div>
                              </div>
                            </div>
                      </div>
                      <div class="parent-container">
                        <div class="flex-row">
                          <div class="d-flex " >
                            <div class="error-message " *ngIf="passwordFormControl.hasError('pattern')">
                              Enter a 4-digit number.
                            </div>
                          </div>
                        </div>
                      </div>
                  
                      <div class="password-container">
                        <label for="confirm-password" class="password-label">Confirm Password</label>
                        <input type="password" id="confirm-password" class="m-2  form-control rounded password-input " (keyup)="checkValidity1($event)"
                         placeholder="Confirm your password" [(ngModel)]="password2"  maxlength="4"
                        name="password2"  #cpw (keyup)='checkPasswords(pw.value, cpw.value);' >
                        <div  class="validation-message" *ngIf='!passwordsMatching && isConfirmPasswordDirty'>
                            Both passwords didn't match
                        </div>
                       
                      </div>
                      <div style="display: flex;justify-content: center;">
                        <button class="btn-update " (click)="pinUpdation()">Update Pin</button>
                      </div>
                      
                </div>


            </div>
        </div>
    </div>
</div>